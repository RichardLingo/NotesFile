---
title: Rust mut 放在形参名前面和放在类型名前面的区别
authors: Ethan Lin
year: 2025-01-11
tags:
  - 日期/2025-01-11
  - 类型/解答
  - 内容/编程/Rust
aliases:
  - Rust mut 放在形参名前面和放在类型名前面
---
# Rust mut 放在形参名前面和放在类型名前面的区别


> [!attention]
> 以下由AI回答，不保证正确性！







在 Rust 形参中，`mut` 放在形参名前面和放在类型名前面有以下区别：

1. **`mut` 放在形参名前面**：
   - 例如：`mut vec: Vec<i32>`
   - 这种写法表示这个形参在函数内部是可变的，你可以对这个形参进行修改。
   - 这种写法不会改变传入的类型，只是允许在函数内部修改这个变量。

2. **`mut` 放在类型名前面**：
   - 例如：`vec: &mut Vec<i32>`
   - 这种写法表示传入的是一个可变引用，你可以通过这个引用修改原始数据。
   - 这种写法会改变传入的类型，要求传入一个可变引用。

二者写法表达的意思不完全一样：

- `mut vec: Vec<i32>` 表示 `vec` 在函数内部是可变的，但传入的 `Vec<i32>` 本身是一个值。
- `vec: &mut Vec<i32>` 表示传入的是一个 `Vec<i32>` 的可变引用。

推荐用法：

- 如果你需要在函数内部修改传入的资源，推荐使用 `vec: &mut Vec<i32>`，因为这样可以避免所有权的移动，只是借用了资源。
- 如果你只需要在函数内部修改形参本身，而不需要修改传入的资源，可以使用 `mut vec: Vec<i32>`。

总结：
- `mut` 放在形参名前面表示形参在函数内部是可变的。
- `mut` 放在类型名前面表示传入的是一个可变引用。
- 推荐使用 `vec: &mut Vec<i32>` 以避免所有权移动。